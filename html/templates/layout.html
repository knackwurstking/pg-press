<!doctype html>
<html lang="de">

<head>
    <meta charset="utf-8" />

    <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1" />

    <link rel="icon" href="./favicon.ico" sizes="any" />
    <link rel="apple-touch-icon" href="./apple-touch-icon-180x180.png" />

    <link rel="manifest" href="./manifest.json" />

    <link rel="stylesheet" href="./css/bootstrap-icons.min.css" />
    <link rel="stylesheet" href="./ui-dev.min.css" />

    <title>{{block "title" .}}{{end}}</title>

    <style>
        :root {
            --ui-hue: 128;
            --ui-saturation: 25%;
        }

        body.debug,
        body.debug * {
            border-color: var(--ui-border-color) !important;
        }
    </style>

    <script src="./htmx.min.js"></script>

    <script>
        if ("serviceWorker" in navigator) {
            window.addEventListener("load", () => {
                navigator.serviceWorker
                    .register("./service-worker.js")
                    .then((registration) => {
                        console.info(
                            "Service Worker registered with scope:",
                            registration.scope,
                        );
                    })
                    .catch((err) => {
                        console.error(
                            "Service Worker registration failed:",
                            err,
                        );
                    });
            });
        }
    </script>
</head>

<body>
    <header class="container fluid">
        <nav class="flex row gap justify-between">
            <div class="flex row gap justify-start align-center">
                <div>
                    <button
                        style="transform: scale(0.75);"
                        class="ghost secondary icon flex column"
                        onclick='
                            document.querySelector("body").classList.toggle("debug");
                        '
                    >
                        <i class="bi bi-border-all"></i>
                        <small>DEBUG</small>
                    </button>
                </div>

                <div>
                    <strong>{{block "app-bar-title" .}}{{end}}</strong>
                </div>
            </div>

            {{block "nav" .}}{{end}}
        </nav>
    </header>

    {{block "content" .}}{{end}}
</body>

</html>

{{define "basic-nav-elements"}}
<div class="flex row gap justify-end align-center">
    <a role="button" class="ghost primary" href="./feed">Feed</a>

    <a role="button" class="ghost primary icon" href="./profile">
        <i class="bi bi-person-circle"></i>
    </a>

    <a role="button" class="ghost primary icon" href="./">
        <i class="bi bi-house"></i>
    </a>
</div>
{{end}}
