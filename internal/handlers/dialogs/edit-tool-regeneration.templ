package dialogs

import (
	"net/http"

	"github.com/knackwurstking/pg-press/internal/shared"
	"github.com/knackwurstking/pg-press/internal/urlb"
	"github.com/knackwurstking/ui/ui-templ"
)

templ NewToolRegenerationDialog(toolID shared.EntityID) {
	@ui.Dialog(ui.DialogOptions{
		Method:           http.MethodPost,
		Href:             urlb.UrlDialogToolRegeneration(toolID),
		ID:               "tool-regeneration-dialog",
		SubmitButtonText: "Erstellen",
	}) {
		@toolRegenerationContent(nil)
	}
}

templ EditToolRegenerationDialog(tool *shared.ToolRegeneration) {
	@ui.Dialog(ui.DialogOptions{
		Method:           http.MethodPut,
		Href:             urlb.UrlDialogToolRegeneration(tool.ID),
		ID:               "tool-regeneration-dialog",
		SubmitButtonText: "Bearbeiten",
	}) {
		@toolRegenerationContent(tool)
	}
}

templ toolRegenerationContent(tool *shared.ToolRegeneration) {
	<span class="flex flex-row gap justify-between items-start">
		<span class="flex flex-col gap-0">
			<label for="start">Start</label>
			<input
				id="start"
				name="start"
				class="w-fit"
				type="date"
				value={ tool.Start }
			/>
		</span>
		<span class="flex flex-col gap-0">
			<label for="start">Stop</label>
			<input
				id="start"
				name="start"
				class="w-fit"
				type="date"
				value={ tool.Stop }
			/>
		</span>
	</span>
}
