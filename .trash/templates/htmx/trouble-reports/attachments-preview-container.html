{{$pageData := .}}
{{$troubleReport := $pageData.TroubleReport}}

{{if and $troubleReport.LoadedAttachments (gt (len $troubleReport.LoadedAttachments) 0)}}
<div class="attachments-preview-container no-user-select">
    <div class="attachments-preview-label flex align-center gap no-user-select">
        <i class="bi bi-paperclip"></i>
        Bilder ({{len $troubleReport.LoadedAttachments}})
    </div>
    <div class="attachments-preview-scroll flex gap">
        {{range $troubleReport.LoadedAttachments}}
        {{$attachmentID := .GetID}}
        <div class="attachment-preview-item flex column align-center gap no-user-select ghost"
             onclick='openImageViewer({{$attachmentID}})'
             tabindex="0"
             role="button"
             aria-label="Bild {{$attachmentID}} anzeigen">
            <div class="attachment-preview-image">
                <img
                    loading="lazy"
                    src="./trouble-reports/attachments?attachment_id={{$attachmentID}}"
                    alt="Bild {{$attachmentID}}"
                    class="preview-thumbnail no-user-select"
                    loading="lazy"
                />
            </div>
        </div>
        {{end}}
    </div>
</div>
{{end}}
